{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_Util","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","RNSimplePdfView","requireNativeComponent","NativeSimplePdfView","exports","forwardRef","props","ref","source","page","resizeMode","annotationStr","annotation","minZoom","maxZoom","zoomEnabled","onError","onLayout","onLoadComplete","onZoomChange","onZoomPanStart","onZoomPanEnd","onSingleTap","style","viewRef","useRef","useImperativeHandle","resetZoom","current","handle","findNodeHandle","UIManager","dispatchViewManagerCommand","handlePdfError","useCallback","event","nativeEvent","handlePdfLoadComplete","handleZoomChange","handleZoomPanStart","_event","handleZoomPanEnd","handleSingleTap","createElement","asPath","onPdfError","onPdfLoadComplete"],"sources":["NativeSimplePdfView.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n} from 'react';\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  NativeSyntheticEvent,\n  requireNativeComponent,\n  UIManager,\n  ViewStyle,\n} from 'react-native';\nimport { asPath } from './Util';\n\n// --- Event types ---\n\nexport type ErrorEvent = { message: string };\n\nexport type LoadCompleteEvent = { height: number; width: number };\n\nexport type ZoomChangeEvent = {\n  scale: number;\n  offsetX: number;\n  offsetY: number;\n};\n\n// --- Native Props ---\n\ntype NativeSimplePdfViewProps = {\n  // PDF props\n  source: string;\n  page: number;\n  resizeMode?: 'contain' | 'fitWidth';\n  annotation?: string;\n  annotationStr?: string;\n\n  // Zoom props\n  minZoom: number;\n  maxZoom: number;\n  zoomEnabled: boolean;\n\n  // Events\n  onLayout?: (event: LayoutChangeEvent) => void;\n  onPdfError: (event: NativeSyntheticEvent<ErrorEvent>) => void;\n  onPdfLoadComplete: (event: NativeSyntheticEvent<LoadCompleteEvent>) => void;\n  onZoomChange: (event: NativeSyntheticEvent<ZoomChangeEvent>) => void;\n  onZoomPanStart: (event: NativeSyntheticEvent<{}>) => void;\n  onZoomPanEnd: (event: NativeSyntheticEvent<{}>) => void;\n  onSingleTap: (event: NativeSyntheticEvent<{}>) => void;\n\n  style?: ViewStyle;\n};\n\n// --- Public Props ---\n\nexport type NativeSimplePdfViewProps_Public = {\n  /**\n   * Document to display.\n   */\n  source: string;\n\n  /**\n   * Page (0-indexed) of document to display.\n   */\n  page: number;\n\n  /**\n   * How pdf page should be scaled to fit in view dimensions.\n   */\n  resizeMode?: 'contain' | 'fitWidth';\n\n  /**\n   * PAS v1 annotation JSON string.\n   */\n  annotationStr?: string;\n\n  /**\n   * Path to annotation data file.\n   */\n  annotation?: string;\n\n  /**\n   * Minimum zoom level. Default: 1.\n   */\n  minZoom?: number;\n\n  /**\n   * Maximum zoom level. Default: 3.\n   */\n  maxZoom?: number;\n\n  /**\n   * Enable/disable zoom gestures. Default: true.\n   */\n  zoomEnabled?: boolean;\n\n  /**\n   * Callback when an error occurs.\n   */\n  onError?: (event: ErrorEvent) => void;\n\n  /**\n   * Callback for measuring the native view.\n   */\n  onLayout?: (event: LayoutChangeEvent) => void;\n\n  /**\n   * Callback when PDF load completes.\n   */\n  onLoadComplete?: (event: LoadCompleteEvent) => void;\n\n  /**\n   * Callback when zoom level changes.\n   */\n  onZoomChange?: (event: ZoomChangeEvent) => void;\n\n  /**\n   * Callback when zoom pan gesture starts (user starts dragging while zoomed).\n   */\n  onZoomPanStart?: () => void;\n\n  /**\n   * Callback when zoom pan gesture ends.\n   */\n  onZoomPanEnd?: () => void;\n\n  /**\n   * Callback when a single tap is detected (not zoomed).\n   * Used for tap-to-scroll functionality.\n   */\n  onSingleTap?: () => void;\n\n  style?: ViewStyle;\n};\n\n// --- Ref type ---\n\nexport type NativeSimplePdfViewRef = {\n  /**\n   * Reset zoom to default (scale = 1).\n   */\n  resetZoom: () => void;\n};\n\n// --- Native component ---\n\nconst RNSimplePdfView =\n  requireNativeComponent<NativeSimplePdfViewProps>('RNSimplePdfView');\n\n/**\n * Lightweight native PDF view with zoom support (no drawing).\n *\n * This component renders PDF with native pinch-to-zoom capabilities.\n * Touch events for zooming are handled natively for better performance.\n *\n * Features:\n * - Pinch-to-zoom with configurable min/max\n * - Double-tap to zoom in/reset\n * - Pan when zoomed in\n * - Annotations rendering\n *\n * Use this component when you don't need drawing capabilities and want\n * a lighter-weight PDF viewer.\n *\n * Supported platforms: Android, iOS\n */\nexport const NativeSimplePdfView = forwardRef<\n  NativeSimplePdfViewRef,\n  NativeSimplePdfViewProps_Public\n>(function NativeSimplePdfView(props, ref) {\n  const {\n    source,\n    page,\n    resizeMode,\n    annotationStr,\n    annotation,\n    minZoom = 1,\n    maxZoom = 3,\n    zoomEnabled = true,\n    onError,\n    onLayout,\n    onLoadComplete,\n    onZoomChange,\n    onZoomPanStart,\n    onZoomPanEnd,\n    onSingleTap,\n    style,\n  } = props;\n\n  const viewRef = useRef<any>(null);\n\n  // Expose imperative methods\n  useImperativeHandle(ref, () => ({\n    resetZoom: () => {\n      if (viewRef.current) {\n        const handle = findNodeHandle(viewRef.current);\n        if (handle) {\n          UIManager.dispatchViewManagerCommand(handle, 'resetZoom', []);\n        }\n      }\n    },\n  }));\n\n  // Event handlers\n  const handlePdfError = useCallback(\n    (event: NativeSyntheticEvent<ErrorEvent>) => {\n      onError?.(event.nativeEvent);\n    },\n    [onError]\n  );\n\n  const handlePdfLoadComplete = useCallback(\n    (event: NativeSyntheticEvent<LoadCompleteEvent>) => {\n      onLoadComplete?.(event.nativeEvent);\n    },\n    [onLoadComplete]\n  );\n\n  const handleZoomChange = useCallback(\n    (event: NativeSyntheticEvent<ZoomChangeEvent>) => {\n      onZoomChange?.(event.nativeEvent);\n    },\n    [onZoomChange]\n  );\n\n  const handleZoomPanStart = useCallback(\n    (_event: NativeSyntheticEvent<{}>) => {\n      onZoomPanStart?.();\n    },\n    [onZoomPanStart]\n  );\n\n  const handleZoomPanEnd = useCallback(\n    (_event: NativeSyntheticEvent<{}>) => {\n      onZoomPanEnd?.();\n    },\n    [onZoomPanEnd]\n  );\n\n  const handleSingleTap = useCallback(\n    (_event: NativeSyntheticEvent<{}>) => {\n      onSingleTap?.();\n    },\n    [onSingleTap]\n  );\n\n  return (\n    <RNSimplePdfView\n      ref={viewRef}\n      source={asPath(source)}\n      page={page}\n      resizeMode={resizeMode}\n      annotation={asPath(annotation)}\n      annotationStr={annotationStr}\n      minZoom={minZoom}\n      maxZoom={maxZoom}\n      zoomEnabled={zoomEnabled}\n      onLayout={onLayout}\n      onPdfError={handlePdfError}\n      onPdfLoadComplete={handlePdfLoadComplete}\n      onZoomChange={handleZoomChange}\n      onZoomPanStart={handleZoomPanStart}\n      onZoomPanEnd={handleZoomPanEnd}\n      onSingleTap={handleSingleTap}\n      style={style}\n    />\n  );\n});\n"],"mappings":"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","ignoreList":[]}