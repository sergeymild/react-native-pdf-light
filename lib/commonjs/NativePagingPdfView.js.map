{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_Util","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","RNPagingPdfView","requireNativeComponent","NativePagingPdfView","exports","forwardRef","props","ref","source","minZoom","maxZoom","edgeTapZone","backgroundColor","onError","onLayout","onLoadComplete","onPageChange","onZoomChange","onTap","onMiddleClick","style","viewRef","useRef","useImperativeHandle","resetZoom","current","handle","findNodeHandle","UIManager","dispatchViewManagerCommand","scrollToPage","page","animated","handlePdfError","useCallback","event","nativeEvent","handlePdfLoadComplete","handlePageChange","handleZoomChange","scale","handleTap","position","handleMiddleClick","createElement","asPath","Math","max","min","pdfBackgroundColor","processColor","undefined","onPdfError","onPdfLoadComplete"],"sources":["NativePagingPdfView.tsx"],"sourcesContent":["import React, {\n  useCallback,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n} from 'react';\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  NativeSyntheticEvent,\n  processColor,\n  requireNativeComponent,\n  UIManager,\n  ViewStyle,\n} from 'react-native';\nimport { asPath } from './Util';\n\n// --- Event types ---\n\nexport type PagingPdfErrorEvent = { message: string };\n\nexport type PagingPdfLoadCompleteEvent = {\n  width: number;\n  height: number;\n  pageCount: number;\n};\n\nexport type PagingPdfPageChangeEvent = { page: number };\n\nexport type PagingPdfZoomChangeEvent = { scale: number };\n\nexport type PagingPdfTapEvent = { position: 'top' | 'bottom' | 'left' | 'right' };\n\n// --- Native Props ---\n\ntype NativePagingPdfViewProps = {\n  source: string;\n  minZoom: number;\n  maxZoom: number;\n  edgeTapZone: number;\n  pdfBackgroundColor?: ReturnType<typeof processColor>;\n\n  onLayout?: (event: LayoutChangeEvent) => void;\n  onPdfError: (event: NativeSyntheticEvent<PagingPdfErrorEvent>) => void;\n  onPdfLoadComplete: (\n    event: NativeSyntheticEvent<PagingPdfLoadCompleteEvent>\n  ) => void;\n  onPageChange: (event: NativeSyntheticEvent<PagingPdfPageChangeEvent>) => void;\n  onZoomChange: (event: NativeSyntheticEvent<PagingPdfZoomChangeEvent>) => void;\n  onTap: (event: NativeSyntheticEvent<PagingPdfTapEvent>) => void;\n  onMiddleClick: (event: NativeSyntheticEvent<{}>) => void;\n\n  style?: ViewStyle;\n};\n\n// --- Public Props ---\n\nexport type NativePagingPdfViewProps_Public = {\n  /**\n   * Path to PDF document.\n   */\n  source: string;\n\n  /**\n   * Minimum zoom level. Default: 1.\n   */\n  minZoom?: number;\n\n  /**\n   * Maximum zoom level. Default: 3.\n   */\n  maxZoom?: number;\n\n  /**\n   * Edge tap zone size as percentage (0-50). Default: 15.\n   * Left and right edges of this size will trigger scroll on tap.\n   * At page boundaries, tapping will switch to previous/next page.\n   * The remaining middle area triggers onMiddleClick.\n   */\n  edgeTapZone?: number;\n\n  /**\n   * Background color behind PDF pages. Default: white (#ffffff).\n   * Accepts any React Native color value (e.g., '#000000', 'black', 'rgb(0,0,0)').\n   */\n  backgroundColor?: string;\n\n  /**\n   * Callback when an error occurs.\n   */\n  onError?: (event: PagingPdfErrorEvent) => void;\n\n  /**\n   * Callback for measuring the native view.\n   */\n  onLayout?: (event: LayoutChangeEvent) => void;\n\n  /**\n   * Callback when PDF load completes.\n   */\n  onLoadComplete?: (event: PagingPdfLoadCompleteEvent) => void;\n\n  /**\n   * Callback when current page changes.\n   */\n  onPageChange?: (page: number) => void;\n\n  /**\n   * Callback when zoom level changes.\n   */\n  onZoomChange?: (scale: number) => void;\n\n  /**\n   * Callback when user taps on scroll zones.\n   * 'left' = left edge zone, 'right' = right edge zone\n   */\n  onTap?: (position: 'top' | 'bottom' | 'left' | 'right') => void;\n\n  /**\n   * Callback when user taps in the middle zone.\n   */\n  onMiddleClick?: () => void;\n\n  style?: ViewStyle;\n};\n\n// --- Ref type ---\n\nexport type NativePagingPdfViewRef = {\n  /**\n   * Reset zoom to default (scale = 1).\n   */\n  resetZoom: () => void;\n\n  /**\n   * Scroll to specific page.\n   */\n  scrollToPage: (page: number, animated?: boolean) => void;\n};\n\n// --- Native component ---\n\nconst RNPagingPdfView =\n  requireNativeComponent<NativePagingPdfViewProps>('RNPagingPdfView');\n\n/**\n * Native paged PDF viewer with per-page zoom support.\n *\n * This component displays PDF pages one at a time with horizontal swiping\n * between pages. Each page can be zoomed independently.\n *\n * Features:\n * - Horizontal page swiping (like a book)\n * - Per-page pinch-to-zoom\n * - Page swiping is disabled while zoomed in\n * - Double-tap to zoom in/out\n *\n * Supported platforms: iOS, Android\n */\nexport const NativePagingPdfView = forwardRef<\n  NativePagingPdfViewRef,\n  NativePagingPdfViewProps_Public\n>(function NativePagingPdfView(props, ref) {\n  const {\n    source,\n    minZoom = 1,\n    maxZoom = 3,\n    edgeTapZone = 15,\n    backgroundColor,\n    onError,\n    onLayout,\n    onLoadComplete,\n    onPageChange,\n    onZoomChange,\n    onTap,\n    onMiddleClick,\n    style,\n  } = props;\n\n  const viewRef = useRef<any>(null);\n\n  // Expose imperative methods\n  useImperativeHandle(ref, () => ({\n    resetZoom: () => {\n      if (viewRef.current) {\n        const handle = findNodeHandle(viewRef.current);\n        if (handle) {\n          UIManager.dispatchViewManagerCommand(handle, 'resetZoom', []);\n        }\n      }\n    },\n    scrollToPage: (page: number, animated = true) => {\n      if (viewRef.current) {\n        const handle = findNodeHandle(viewRef.current);\n        if (handle) {\n          UIManager.dispatchViewManagerCommand(handle, 'scrollToPage', [\n            page,\n            animated,\n          ]);\n        }\n      }\n    },\n  }));\n\n  // Event handlers\n  const handlePdfError = useCallback(\n    (event: NativeSyntheticEvent<PagingPdfErrorEvent>) => {\n      onError?.(event.nativeEvent);\n    },\n    [onError]\n  );\n\n  const handlePdfLoadComplete = useCallback(\n    (event: NativeSyntheticEvent<PagingPdfLoadCompleteEvent>) => {\n      onLoadComplete?.(event.nativeEvent);\n    },\n    [onLoadComplete]\n  );\n\n  const handlePageChange = useCallback(\n    (event: NativeSyntheticEvent<PagingPdfPageChangeEvent>) => {\n      onPageChange?.(event.nativeEvent.page);\n    },\n    [onPageChange]\n  );\n\n  const handleZoomChange = useCallback(\n    (event: NativeSyntheticEvent<PagingPdfZoomChangeEvent>) => {\n      onZoomChange?.(event.nativeEvent.scale);\n    },\n    [onZoomChange]\n  );\n\n  const handleTap = useCallback(\n    (event: NativeSyntheticEvent<PagingPdfTapEvent>) => {\n      onTap?.(event.nativeEvent.position);\n    },\n    [onTap]\n  );\n\n  const handleMiddleClick = useCallback(() => {\n    onMiddleClick?.();\n  }, [onMiddleClick]);\n\n  return (\n    <RNPagingPdfView\n      ref={viewRef}\n      source={asPath(source)}\n      minZoom={minZoom}\n      maxZoom={maxZoom}\n      edgeTapZone={Math.max(0, Math.min(50, edgeTapZone))}\n      pdfBackgroundColor={backgroundColor ? processColor(backgroundColor) : undefined}\n      onLayout={onLayout}\n      onPdfError={handlePdfError}\n      onPdfLoadComplete={handlePdfLoadComplete}\n      onPageChange={handlePageChange}\n      onZoomChange={handleZoomChange}\n      onTap={handleTap}\n      onMiddleClick={handleMiddleClick}\n      style={style}\n    />\n  );\n});\n"],"mappings":"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","ignoreList":[]}